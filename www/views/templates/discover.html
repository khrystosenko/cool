{% extends 'page.html' %}

{% block add_scripts %}
    <script type="text/javascript" src="{{ static('scripts/discover.js') }}"></script>
{% endblock %}

{% block add_styles %}
    <link type="text/css" rel="stylesheet" href="{{ static('styles/discover.css') }}" />
{% endblock %}

{% block add_header %}
    <div class="discover_header">
        <div class="header_container">
            <div class="discover_search">
                <form>
                    <div class="search_field" id="stream_search">
                        <input type="search" placeholder="Search by stream">
                        <label for="search"><i class="material-icons">search</i></label><!--
                        <i class="material-icons">close</i> -->
                    </div>
                </form>
            </div>
        </div>
            <div class="discover_selection">
                <div class="discover_game">
					<div class="row">
                    <div class="col s12">
                      <ul class="tabs" id="game_filter">
                        <li class="tab col s1" ><a data-game-id="0" href="#">All games</a></li>
                        {% for game in games %}
                            <li class="tab col s1"><a data-game-id="{{ game.id }}" href="#">{{ game.short }}</a></li>
                        {% endfor %}
                      </ul>
                    </div>
                    </div>
                </div>
            </div>
{% endblock %}

{% block content %}
	<div class="streams">
    {% for stream in streams %}
            <div class="col s12 m4 stream" style="width: 350px;margin-right: 10px;">
              <div class="card hoverable">
                <div class="card-image waves-effect waves-block waves-light">
                  <a href="#"><img src="{{ stream.preview.replace('{width}', '400').replace('{height}', '224') }}"></a>
                </div>
                <div class="card-content grey-text">
                    <ul class="collection details">
                        <li class="collection-item card-black avatar">
                          <img src="{{ stream.logo }}" class="circle">
                          <p class="title white-text">{{ stream.display_name }}</p>
                          <span class="views">
                            <i class="tiny material-icons">visibility</i> {{ '{:,d}'.format(stream.viewers).replace(',', ' ') }}
                          </span>
                          <span class="platform">
                            <i class="tiny material-icons">stay_primary_landscape</i> TWITCH.TV
                          </span>
                          <span class="language">
                            <i class="tiny material-icons">translate</i> {{ stream.language }}
                          </span>
                        </li>
                    </ul>
                </div>
              </div>
            </div>
        {% endfor %}
     </div>
{% endblock %}
